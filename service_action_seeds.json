[
    {
        "name": "Event Updated",
        "identifier": "google-calendar-event-updated",
        "service_identifier" : "google-calendar",
        "type": "trigger",
        "url": "https://www.googleapis.com/calendar/v3/calendars/{calendarId}/events/watch",
        "body_parameters": [{"hidden": true, "parameter_key": "token", "parameter_value": "{{$_r->webhookToken()}}"}, {"hidden": true, "parameter_key": "type", "parameter_value": "webhook"}, {"hidden": true, "parameter_key": "address", "parameter_value": "{{$_r->webhookAddress()}}"}, {"hidden": true, "parameter_key": "id", "parameter_value": "{{$_r->channelId()}}"}],
        "url_parameters":  [{"options": "<<$_r->calendarIds()>>", "parameter_key": "calendarId", "parameter_name": "Calendar Email", "parameter_type": "select", "parameter_value": "{{$calendarId}}"}],
        "query_parameters": {},
        "trigger_notification_type" : "webhook",
        "headers": {},
        "body_template": null,
        "http_method": "POST"
    },
    {
        "name" : "Event Created",
        "identifier" : "google-calendar-event-created",
        "service_identifier" : "google-calendar",
        "type" : "trigger",
        "url":  "https://www.googleapis.com/calendar/v3/calendars/{calendarId}/events/watch",
        "body_parameters": [{"hidden": true, "parameter_key": "token", "parameter_value": "{{$_r->webhookToken()}}"}, {"hidden": true, "parameter_key": "type", "parameter_value": "webhook"}, {"hidden": true, "parameter_key": "address", "parameter_value": "{{$_r->webhookAddress()}}"}, {"hidden": true, "parameter_key": "id", "parameter_value": "{{$_r->channelId()}}"}],
        "url_parameters":  [{"options": "<<$_r->calendarIds()>>", "parameter_key": "calendarId", "parameter_name": "Calendar Email", "parameter_type": "select", "parameter_value": "{{$calendarId}}"}],
        "query_parameters": {},
        "headers": {},
        "body_template": null,
        "trigger_notification_type" : "webhook",
        "http_method": "POST"
    },
    {
        "name" : "Send Email",
        "identifier" : "google-mail-send",
        "service_identifier" : "google-mail",
        "type" : "action",
        "url":  "https://gmail.googleapis.com/gmail/v1/users/me/messages/send",
        "body_parameters": [{"parameter_key": "from", "parameter_name": "From", "parameter_type": "text", "parameter_value": "{{$from}}"}, {"parameter_key": "to", "parameter_name": "To", "parameter_type": "text", "parameter_value": "{{$to}}"}, {"parameter_key": "subject", "parameter_name": "Subject", "parameter_type": "text", "parameter_value": "{{$subject}}"}, {"parameter_key": "body", "parameter_name": "Body", "parameter_type": "text", "parameter_value": "{{$body}}"}, {"hidden": true, "parameter_key": "raw", "afterResolutionHook": "encodeBase64Url"}],
        "url_parameters":  {},
        "query_parameters": {},
        "headers": {},
        "body_template": {"raw": "From: {{$from}}\nTo: {{$to}}\nSubject: {{$subject}}\n\n{{$body}}"},
        "trigger_notification_type" : null,
        "http_method": "POST"
    },
    {
        "name": "Create Spreadsheet",
        "identifier": "google-sheets-create-spreadsheet",
        "service_identifier": "google-sheets",
        "type": "action",
        "url": "https://sheets.googleapis.com/v4/spreadsheets",
        "body_parameters": [{"parameter_key": "properties.title", "parameter_name": "Spreadsheet Title", "parameter_type": "text", "parameter_value": "{{$title}}"}],
        "url_parameters": [],
        "query_parameters": [],
        "trigger_notification_type": "webhook",
        "headers": [],
        "body_template": null,
        "http_method": "POST"
    }
]
